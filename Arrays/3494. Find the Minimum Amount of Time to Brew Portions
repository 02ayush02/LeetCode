class Solution {
public:
    long long minTime(vector<int>& skill, vector<int>& mana) {

        int n = skill.size(), m = mana.size();
        vector<long long> save(n + 1, 0);
        
        for (int i = 1; i <= n; i++) {
            save[i] = save[i - 1] + (mana[0] * skill[i - 1]);
        }

        for (int i = 1; i < m; i++) {
            long long power = mana[i];
            for (int j = 1; j <= n; j++) {
                save[j] = max(save[j], save[j - 1]) + (long long)power * (long long)skill[j - 1];
            }
            for (int j = n - 1; j >= 0; j--) {
                save[j] = save[j + 1] - (long long)power * skill[j];
            }
        }
        return save[n];
    }
};
